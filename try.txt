<!DOCTYPE html>
<html>
<head>
    <title>PoultryPal Chatbot</title>
    <style>
        /* Add your CSS styles here to style the chat interface */
    </style>
</head>
<body>
    <div id="chatbox" style="height: 300px; border: 1px solid #ccc; overflow-y: scroll; padding: 10px;"></div>
    <input type="text" id="userMessage" placeholder="Type your message...">
    <button onclick="sendMessage()">Send</button>

    <script>
        function appendMessage(message, sender) {
            var chatbox = document.getElementById("chatbox");
            var messageElement = document.createElement("div");
            messageElement.textContent = sender + ": " + message;
            chatbox.appendChild(messageElement);
            // Optionally, you can apply styling or formatting to the messageElement here.
        }

        function sendMessage() {
            var userMessage = document.getElementById("userMessage").value;
            appendMessage(userMessage, "You");
            document.getElementById("userMessage").value = "";
            // Define the URL of your backend API
const apiUrl = 'http://127.0.0.1:5000';

// User's message
const userMessage = 'Hello, chatbot!';

// Create an object to send in the request body
const requestBody = {
  message: userMessage,
};

// Make a POST request to the API
fetch( http://127.0.0.1:5000 {
  method: 'POST',
   headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify(requestBody),
)
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data => {
    // Handle the response from the backend
    console.log('Chatbot Response:', data.response);
  })
  .catch(error => {
    console.error('Error:', error);
  });


            // You need to make an API call to your backend to send the user's message and get a response.
            // You can use the 'fetch' function or another library like 'axios' for this purpose.

            // Replace the following lines with your API request:
            // fetch('/api/chat', {
            //     method: 'POST',
            //     headers: {
            //         'Content-Type': 'application/json'
            //     },
            //     body: JSON.stringify({
            //         message: userMessage
            //     })
            // })
            // .then(response => response.json())
            // .then(data => {
            //     appendMessage(data.message, "PoultryPal");
            // });
        }
    </script>
</body>
</html>
